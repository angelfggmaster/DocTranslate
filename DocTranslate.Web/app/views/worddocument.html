<div class="container body-content" ng-controller="wordDocumentController as vm">

    <form ng-submit="vm.submit()">
        <div class="form-group">
            <label class="control-label" for="Filename">File Name</label>
            <div class="input-group">
                <span class="input-group-btn">
                    <span class="btn btn-info btn-file">
                        Browse
                        <input type="file" id="ImportedFile" name="ImportedFile" file-model="vm.myFile" accept=".docx,.pdf" />
                    </span>
                </span>

                <input type="text" id="Filename" class="form-control" style="min-width:180px" value="" ng-disabled="true" />
                <input type="submit" value="Send File" class="btn btn-success" />
                <input type="text" class="hidden" ng-model="vm.data.FullFileName" />

                <input type="button" value="Get Document" class="btn btn-primary" ng-click="vm.TranslateDocument()" />
            </div>
        </div>
    </form>
    <div class="separator"></div>

    <div class="col-xs-12">
        <div class="row">
            <div class="col-xs-1">
                <h4>Item</h4>
            </div>
            <div class="col-xs-5">
                <h4>Original</h4>
            </div>
            <div class="col-xs-5">
                <h4>Translate</h4>
            </div>
            <div class="col-xs-1">
                <h4>Action</h4>
            </div>
        </div>
        <div ng-repeat="p in vm.paragraphs track by $index">
            <div class="row">
                <div class="col-xs-1">
                    {{p.ParagraphId}}
                    <input type="text" class="hidden" ng-model="vm.paragraphs[$index].ParagraphId" />
                </div>
                <div class="col-xs-5" style="border: solid; border-width: 1px; padding: 0">
                    <textarea ng-model="vm.paragraphs[$index].OriginLanguage" />
                </div>
                <div class="col-xs-5" style="border: solid; border-width: 1px">
                    {{vm.paragraphs[$index].TargetLanguage}}
                </div>
                <div class="col-xs-1">
                    <input type="button" ng-click="vm.translate(vm.paragraphs[$index].ParagraphId)" />
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $('#ImportedFile').on('change', function () {
        var fileName = $(this).val().split('\\').pop();
        $('#Filename').val(fileName);
    })
</script>
